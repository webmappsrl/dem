{
    "openapi": "3.0.0",
    "info": {
        "title": "DEM",
        "description": "Api documentation",
        "contact": {
            "email": "alessiopiccioli@webmapp.it"
        },
        "version": "1.0.0",
        "x-logo": {
            "url": "http://localhost:8000/assets/images/logo_sosec.jpg"
        }
    },
    "paths": {
        "/api/v1/elevation/{lng}/{lat}": {
            "get": {
                "tags": [
                    "Elevation"
                ],
                "summary": "Get Elevation",
                "description": "Retrieve the elevation of a point based on provided longitude and latitude.",
                "operationId": "getElevation",
                "parameters": [
                    {
                        "name": "lng",
                        "in": "path",
                        "description": "Longitude of the point",
                        "required": true,
                        "schema": {
                            "type": "number",
                            "format": "float"
                        }
                    },
                    {
                        "name": "lat",
                        "in": "path",
                        "description": "Latitude of the point",
                        "required": true,
                        "schema": {
                            "type": "number",
                            "format": "float"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "elevation": {
                                            "type": "number",
                                            "format": "float",
                                            "example": 0
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "error": {
                                            "type": "string",
                                            "example": "Failed to retrieve elevation"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/v1/track": {
            "post": {
                "tags": [
                    "Tech Data"
                ],
                "summary": "Get technical data for a track",
                "operationId": "8fe610cebbc877c15953ad6ec76b91ba",
                "requestBody": {
                    "description": "GeoJSON object that needs to be added to the database",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {},
                            "example": {
                                "type": "Feature",
                                "properties": {
                                    "id": 1
                                },
                                 "geometry": {
      "type": "LineString",
      "coordinates": [
        [
          10.5158256,
          43.7889613
        ],
        [
          10.5156075,
          43.7886481
        ],
        [
          10.5155837,
          43.7885842
        ],
        [
          10.51563,
          43.78856
        ],
        [
          10.51576,
          43.78852
        ],
        [
          10.5156411,
          43.7881923
        ],
        [
          10.5157253,
          43.7881353
        ],
        [
          10.515915,
          43.7880872
        ],
        [
          10.5158963,
          43.7879696
        ],
        [
          10.5158353,
          43.7878844
        ],
        [
          10.5157631,
          43.7877896
        ],
        [
          10.515636,
          43.787774
        ],
        [
          10.515334,
          43.78753
        ],
        [
          10.51523,
          43.7874
        ],
        [
          10.514838,
          43.786734
        ],
        [
          10.51455,
          43.786413
        ],
        [
          10.514479,
          43.786251
        ],
        [
          10.514458,
          43.786083
        ],
        [
          10.514471,
          43.785787
        ],
        [
          10.514533,
          43.785514
        ],
        [
          10.514695,
          43.785046
        ],
        [
          10.514691,
          43.7847
        ],
        [
          10.514712,
          43.784396
        ],
        [
          10.514742,
          43.784275
        ],
        [
          10.514937,
          43.783833
        ],
        [
          10.515052,
          43.783505
        ],
        [
          10.515146,
          43.783321
        ],
        [
          10.515149,
          43.783215
        ],
        [
          10.515101,
          43.782904
        ],
        [
          10.515032,
          43.782659
        ],
        [
          10.514994,
          43.782366
        ],
        [
          10.515027,
          43.78201
        ],
        [
          10.515002,
          43.781715
        ],
        [
          10.515013,
          43.780893
        ],
        [
          10.515056,
          43.780636
        ],
        [
          10.515148,
          43.780433
        ],
        [
          10.515202,
          43.780232
        ],
        [
          10.515215,
          43.779855
        ],
        [
          10.515177,
          43.779382
        ],
        [
          10.515193,
          43.779195
        ],
        [
          10.515241,
          43.779084
        ],
        [
          10.51535,
          43.778979
        ],
        [
          10.51547,
          43.778916
        ],
        [
          10.516022,
          43.778706
        ],
        [
          10.516281,
          43.778658
        ],
        [
          10.516564,
          43.778652
        ],
        [
          10.517076,
          43.778607
        ],
        [
          10.517721,
          43.778681
        ],
        [
          10.518814,
          43.779105
        ],
        [
          10.519153,
          43.779312
        ],
        [
          10.519354,
          43.779399
        ],
        [
          10.519625,
          43.779581
        ],
        [
          10.520339,
          43.779882
        ],
        [
          10.520604,
          43.780014
        ],
        [
          10.521134,
          43.780184
        ],
        [
          10.522348,
          43.780425
        ],
        [
          10.523021,
          43.780529
        ],
        [
          10.523165,
          43.780579
        ],
        [
          10.523437,
          43.780718
        ],
        [
          10.523511,
          43.780765
        ],
        [
          10.523633,
          43.780888
        ],
        [
          10.52377,
          43.780958
        ],
        [
          10.524044,
          43.781015
        ],
        [
          10.5242493,
          43.781004
        ],
        [
          10.5241331,
          43.7811323
        ],
        [
          10.5239522,
          43.7812037
        ],
        [
          10.523632,
          43.7812898
        ],
        [
          10.5235858,
          43.7812687
        ],
        [
          10.52347,
          43.7812437
        ],
        [
          10.5234139,
          43.7811894
        ],
        [
          10.5233078,
          43.78114
        ],
        [
          10.5231484,
          43.7810631
        ],
        [
          10.5230319,
          43.7810389
        ],
        [
          10.5229698,
          43.7810183
        ],
        [
          10.52283,
          43.7810164
        ],
        [
          10.5227136,
          43.781037
        ],
        [
          10.5226463,
          43.7810631
        ],
        [
          10.5226139,
          43.781095
        ],
        [
          10.5226387,
          43.7811309
        ],
        [
          10.5226955,
          43.78119
        ],
        [
          10.522688,
          43.7812277
        ],
        [
          10.5226764,
          43.7812632
        ],
        [
          10.5226735,
          43.7812817
        ],
        [
          10.5226091,
          43.7812997
        ],
        [
          10.522545,
          43.7812944
        ],
        [
          10.5224425,
          43.7813288
        ],
        [
          10.5223419,
          43.7813367
        ],
        [
          10.5222778,
          43.781301
        ],
        [
          10.5222138,
          43.7812892
        ],
        [
          10.5221387,
          43.7813341
        ],
        [
          10.522093,
          43.7813764
        ],
        [
          10.5220216,
          43.7813605
        ],
        [
          10.5219466,
          43.7813962
        ],
        [
          10.5219136,
          43.7814213
        ],
        [
          10.5218196,
          43.7813953
        ],
        [
          10.5217849,
          43.7813565
        ],
        [
          10.5217805,
          43.7813235
        ],
        [
          10.52169,
          43.7812833
        ],
        [
          10.5216162,
          43.7813298
        ],
        [
          10.5216337,
          43.7813942
        ],
        [
          10.5216186,
          43.7814351
        ],
        [
          10.5216025,
          43.7814583
        ],
        [
          10.5215549,
          43.7814979
        ],
        [
          10.5215183,
          43.781486
        ],
        [
          10.5215439,
          43.7814477
        ],
        [
          10.5215403,
          43.78142
        ],
        [
          10.5215128,
          43.7814081
        ],
        [
          10.5214634,
          43.7814134
        ],
        [
          10.5213551,
          43.7814934
        ],
        [
          10.5212749,
          43.7815812
        ],
        [
          10.521204,
          43.7815601
        ],
        [
          10.5211503,
          43.7815048
        ],
        [
          10.5211227,
          43.7814711
        ],
        [
          10.5210652,
          43.7814255
        ],
        [
          10.5210052,
          43.7814749
        ],
        [
          10.5209825,
          43.7815537
        ],
        [
          10.5209215,
          43.7816501
        ],
        [
          10.5207295,
          43.7817688
        ],
        [
          10.5205315,
          43.7817708
        ],
        [
          10.5204748,
          43.7817714
        ],
        [
          10.5202529,
          43.7817991
        ],
        [
          10.5198075,
          43.7817228
        ],
        [
          10.5197709,
          43.7816494
        ],
        [
          10.5199539,
          43.7816054
        ],
        [
          10.5200385,
          43.7815655
        ],
        [
          10.5200485,
          43.7815158
        ],
        [
          10.5198355,
          43.7814051
        ],
        [
          10.5197113,
          43.7813341
        ]
      ]
    }
  
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema":{
                  "type": "object",
                  "properties": {
                      "type": {
                          "type": "string",
                          "example": "Feature"
                      },
                      "properties": {
                          "type": "object",
                          "properties": {
                              "ele_min": {
                                  "description": "The minimum elevation of the mountain group",
                                  "type": "integer",
                                  "example": 90
                              },
                              "ele_max": {
                                  "description": "The maximum elevation of the mountain group",
                                  "type": "integer",
                                  "example": 427
                              },
                              "ele_from": {
                                  "description": "The starting elevation of the mountain group",
                                  "type": "integer",
                                  "example": 96
                              },
                              "ele_to": {
                                  "description": "The ending elevation of the mountain group",
                                  "type": "integer",
                                  "example": 419
                              },
                              "ascent": {
                                  "description": "The total ascent of the track",
                                  "type": "integer",
                                  "example": 354
                              },
                              "descent": {
                                  "description": "The total descent of the track",
                                  "type": "integer",
                                  "example": 31
                              },
                              "distance": {
                                  "description": "The total distance of the track in kilometers",
                                  "type": "number",
                                  "format": "float",
                                  "example": 2.6
                              },
                              "duration_forward_hiking": {
                                  "description": "The duration for hiking forward in minutes",
                                  "type": "integer",
                                  "example": 105
                              },
                              "duration_backward_hiking": {
                                  "description": "The duration for hiking backward in minutes",
                                  "type": "integer",
                                  "example": 60
                              },
                              "duration_forward_bike": {
                                  "description": "The duration for biking forward in minutes",
                                  "type": "integer",
                                  "example": 75
                              },
                              "duration_backward_bike": {
                                  "description": "The duration for biking backward in minutes",
                                  "type": "integer",
                                  "example": 30
                              },
                              "round_trip": {
                                  "description": "Indicates if the track is a round trip",
                                  "type": "boolean",
                                  "example": false
                              }
                          }
                      },
                      "geometry": {
                          "type": "object",
                          "properties": {
                              "type": {
                                  "description": "PostGIS geometry type: MultiPolygon, LineString, etc.",
                                  "type": "string",
                                  "example": "LineString"
                              },
                              "coordinates": {
                                  "description": "Coordinates of the track in WGS84 format",
                                  "type": "array",
                                  "items": {
                                      "type": "array",
                                      "items": {
                                          "type": "number",
                                          "example": [10.5158256, 43.7889613]
                                      }
                                  },
                                  "example": [
                                      [10.5158256, 43.7889613],
                                      [10.5156075, 43.7886481]
                                  ]
                              }
                          }
                      }
                  }
              },
                                "example": {
  "type": "Feature",
  "properties": {
    "ele_min": 90,
    "ele_max": 427,
    "ele_from": 96,
    "ele_to": 419,
    "ascent": 354,
    "descent": 31,
    "distance": 2.6,
    "duration_forward_hiking": 105,
    "duration_backward_hiking": 60,
    "duration_forward_bike": 75,
    "duration_backward_bike": 30,
    "round_trip": false
  },
  "geometry": {
    "type": "LineString",
    "coordinates": [
      [
        "10.515825599999996",
        "43.78896129484556",
        90
      ],
      [
        "10.515607499999998",
        "43.78864809484541",
        98
      ],
      [
        "10.515583699999997",
        "43.7885841948454",
        98
      ],
      [
        "10.51563",
        "43.78855999484537",
        98
      ],
      [
        "10.515759999999997",
        "43.788519994845366",
        98
      ],
      [
        "10.515641100000002",
        "43.78819229484525",
        98
      ],
      [
        "10.515725300000003",
        "43.78813529484524",
        98
      ],
      [
        "10.515915000000003",
        "43.78808719484522",
        98
      ],
      [
        "10.515896300000001",
        "43.78796959484519",
        98
      ],
      [
        "10.515835300000006",
        "43.78788439484516",
        115
      ],
      [
        "10.515763099999997",
        "43.787789594845115",
        115
      ],
      [
        "10.515636000000002",
        "43.78777399484511",
        115
      ],
      [
        "10.515334",
        "43.78752999484502",
        115
      ],
      [
        "10.515230000000004",
        "43.78739999484495",
        115
      ],
      [
        "10.514837999999996",
        "43.78673399484466",
        128
      ],
      [
        "10.514550000000003",
        "43.786412994844554",
        128
      ],
      [
        "10.514479000000003",
        "43.786250994844444",
        128
      ],
      [
        "10.514458000000005",
        "43.78608299484441",
        149
      ],
      [
        "10.514470999999997",
        "43.78578699484433",
        149
      ],
      [
        "10.514532999999997",
        "43.78551399484419",
        149
      ],
      [
        "10.514695",
        "43.785045994844",
        155
      ],
      [
        "10.514690999999996",
        "43.78469999484387",
        155
      ],
      [
        "10.514712000000005",
        "43.784395994843734",
        155
      ],
      [
        "10.514741999999996",
        "43.784274994843706",
        165
      ],
      [
        "10.514937000000005",
        "43.78383299484348",
        210
      ],
      [
        "10.515051999999997",
        "43.783504994843355",
        210
      ],
      [
        "10.515145999999994",
        "43.78332099484331",
        231
      ],
      [
        "10.515148999999994",
        "43.78321499484325",
        231
      ],
      [
        "10.515100999999994",
        "43.78290399484311",
        231
      ],
      [
        "10.515032000000003",
        "43.782658994843004",
        231
      ],
      [
        "10.514993999999998",
        "43.78236599484293",
        249
      ],
      [
        "10.515027000000007",
        "43.782009994842745",
        249
      ],
      [
        "10.515001999999996",
        "43.78171499484264",
        249
      ],
      [
        "10.515012999999996",
        "43.780892994842276",
        262
      ],
      [
        "10.515056",
        "43.7806359948422",
        259
      ],
      [
        "10.515148000000003",
        "43.780432994842116",
        259
      ],
      [
        "10.515201999999995",
        "43.78023199484205",
        259
      ],
      [
        "10.515214999999996",
        "43.779854994841905",
        259
      ],
      [
        "10.515176999999998",
        "43.779381994841664",
        257
      ],
      [
        "10.515193000000004",
        "43.77919499484163",
        257
      ],
      [
        "10.515241000000005",
        "43.77908399484157",
        257
      ],
      [
        "10.515350000000003",
        "43.778978994841516",
        257
      ],
      [
        "10.51547",
        "43.778915994841526",
        257
      ],
      [
        "10.516022000000001",
        "43.77870599484141",
        248
      ],
      [
        "10.516281000000003",
        "43.778657994841375",
        275
      ],
      [
        "10.516564000000004",
        "43.77865199484136",
        275
      ],
      [
        "10.517075999999998",
        "43.77860699484135",
        275
      ],
      [
        "10.517721000000003",
        "43.77868099484143",
        289
      ],
      [
        "10.518814000000003",
        "43.779104994841624",
        330
      ],
      [
        "10.519153000000001",
        "43.77931199484164",
        330
      ],
      [
        "10.519354000000005",
        "43.77939899484169",
        330
      ],
      [
        "10.519625",
        "43.77958099484178",
        330
      ],
      [
        "10.520339",
        "43.7798819948419",
        386
      ],
      [
        "10.520603999999995",
        "43.780013994841944",
        386
      ],
      [
        "10.521134000000005",
        "43.78018399484201",
        366
      ],
      [
        "10.522347999999994",
        "43.780424994842136",
        351
      ],
      [
        "10.523021000000002",
        "43.78052899484215",
        351
      ],
      [
        "10.523164999999999",
        "43.78057899484219",
        351
      ],
      [
        "10.523437",
        "43.78071799484221",
        362
      ],
      [
        "10.523511000000001",
        "43.78076499484224",
        362
      ],
      [
        "10.523632999999997",
        "43.78088799484229",
        360
      ],
      [
        "10.52377",
        "43.78095799484237",
        360
      ],
      [
        "10.524044000000005",
        "43.78101499484234",
        360
      ],
      [
        "10.524249300000001",
        "43.78100399484236",
        360
      ],
      [
        "10.524133100000006",
        "43.78113229484244",
        360
      ],
      [
        "10.523952199999995",
        "43.78120369484247",
        360
      ],
      [
        "10.523632000000006",
        "43.78128979484242",
        360
      ],
      [
        "10.523585799999996",
        "43.78126869484244",
        360
      ],
      [
        "10.523470000000001",
        "43.78124369484248",
        362
      ],
      [
        "10.523413900000005",
        "43.78118939484241",
        362
      ],
      [
        "10.523307800000001",
        "43.78113999484238",
        362
      ],
      [
        "10.523148400000004",
        "43.7810630948424",
        362
      ],
      [
        "10.523031900000005",
        "43.78103889484234",
        362
      ],
      [
        "10.522969800000002",
        "43.78101829484237",
        362
      ],
      [
        "10.522830000000006",
        "43.78101639484235",
        362
      ],
      [
        "10.522713599999998",
        "43.781036994842346",
        362
      ],
      [
        "10.522646299999995",
        "43.7810630948424",
        362
      ],
      [
        "10.5226139",
        "43.78109499484237",
        362
      ],
      [
        "10.522638700000002",
        "43.781130894842384",
        362
      ],
      [
        "10.522695499999994",
        "43.78118999484241",
        362
      ],
      [
        "10.522688000000006",
        "43.781227694842414",
        362
      ],
      [
        "10.522676400000003",
        "43.78126319484243",
        362
      ],
      [
        "10.522673499999994",
        "43.78128169484243",
        362
      ],
      [
        "10.522609100000006",
        "43.78129969484243",
        362
      ],
      [
        "10.522544999999994",
        "43.78129439484244",
        362
      ],
      [
        "10.5224425",
        "43.7813287948425",
        362
      ],
      [
        "10.522341899999999",
        "43.78133669484251",
        362
      ],
      [
        "10.522277800000005",
        "43.781300994842496",
        390
      ],
      [
        "10.5222138",
        "43.78128919484247",
        390
      ],
      [
        "10.5221387",
        "43.781334094842464",
        390
      ],
      [
        "10.522093",
        "43.78137639484248",
        390
      ],
      [
        "10.522021600000006",
        "43.781360494842495",
        390
      ],
      [
        "10.521946600000001",
        "43.78139619484253",
        390
      ],
      [
        "10.521913600000003",
        "43.78142129484254",
        390
      ],
      [
        "10.521819599999995",
        "43.78139529484249",
        390
      ],
      [
        "10.521784899999997",
        "43.78135649484248",
        390
      ],
      [
        "10.521780500000002",
        "43.78132349484245",
        390
      ],
      [
        "10.521690000000003",
        "43.78128329484246",
        390
      ],
      [
        "10.521616200000004",
        "43.781329794842506",
        390
      ],
      [
        "10.521633700000002",
        "43.78139419484248",
        390
      ],
      [
        "10.521618600000002",
        "43.78143509484252",
        390
      ],
      [
        "10.5216025",
        "43.781458294842515",
        390
      ],
      [
        "10.521554899999996",
        "43.781497894842545",
        390
      ],
      [
        "10.521518300000002",
        "43.781485994842534",
        390
      ],
      [
        "10.521543899999996",
        "43.78144769484255",
        390
      ],
      [
        "10.521540300000002",
        "43.7814199948425",
        390
      ],
      [
        "10.521512799999995",
        "43.78140809484249",
        390
      ],
      [
        "10.521463400000004",
        "43.78141339484254",
        390
      ],
      [
        "10.521355100000005",
        "43.781493394842556",
        390
      ],
      [
        "10.521274900000002",
        "43.78158119484256",
        376
      ],
      [
        "10.521204",
        "43.78156009484254",
        390
      ],
      [
        "10.521150299999999",
        "43.781504794842526",
        390
      ],
      [
        "10.5211227",
        "43.781471094842544",
        390
      ],
      [
        "10.521065200000006",
        "43.78142549484252",
        427
      ],
      [
        "10.521005200000005",
        "43.78147489484251",
        427
      ],
      [
        "10.520982499999999",
        "43.781553694842536",
        427
      ],
      [
        "10.5209215",
        "43.781650094842625",
        407
      ],
      [
        "10.520729500000005",
        "43.78176879484265",
        407
      ],
      [
        "10.520531499999999",
        "43.781770794842636",
        407
      ],
      [
        "10.520474800000004",
        "43.78177139484267",
        407
      ],
      [
        "10.520252899999996",
        "43.78179909484266",
        407
      ],
      [
        "10.5198075",
        "43.7817227948426",
        406
      ],
      [
        "10.5197709",
        "43.781649394842624",
        406
      ],
      [
        "10.5199539",
        "43.781605394842614",
        407
      ],
      [
        "10.5200385",
        "43.78156549484256",
        427
      ],
      [
        "10.520048499999996",
        "43.78151579484257",
        427
      ],
      [
        "10.5198355",
        "43.7814050948425",
        426
      ],
      [
        "10.519711300000003",
        "43.78133409484248",
        426
      ]
    ]
  }
}
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        },
        "/api/v1/track3d": {
            "post": {
                "tags": [
                    "3D Data"
                ],
                "summary": "Get 3D data for a track",
                "operationId": "bdf70789a340035786f4ae51e6a278b2",
                "requestBody": {
                    "description": "GeoJSON object that needs to be added to the database",
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {},
                            "example": {
                                "type": "Feature",
                                "properties": {
                                    "id": 27060,
                                    "created_at": "2022-09-07T07:47:11.000000Z",
                                    "updated_at": "2024-01-07T22:59:43.000000Z",
                                    "name": {
                                        "it": "119 - Asciano - Scarpa d'Orlando",
                                        "en": "119 - Asciano - Scarpa d'Orlando"
                                    }
                                },
                                "geometry": {
                                    "type": "LineString",
                                    "coordinates": [
                                        [
                                            10.4685531,
                                            43.7494983
                                        ],
                                        [
                                            10.4686648,
                                            43.7494112
                                        ]
                                    ]
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Successful operation",
                        "content": {
                            "application/json": {
                                "schema": {},
                                "example": {
                                    "type": "Feature",
                                    "properties": {
                                        "id": 27060,
                                        "created_at": "2022-09-07T07:47:11.000000Z",
                                        "updated_at": "2024-01-07T22:59:43.000000Z",
                                        "name": {
                                            "it": "119 - Asciano - Scarpa d'Orlando",
                                            "en": "119 - Asciano - Scarpa d'Orlando"
                                        }
                                    },
                                    "geometry": {
                                        "type": "LineString",
                                        "coordinates": [
                                            [
                                                10.4685531,
                                                43.7494983
                                            ],
                                            [
                                                10.4686648,
                                                43.7494112
                                            ]
                                        ]
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid input"
                    }
                }
            }
        }
    }
}